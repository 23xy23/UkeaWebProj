@{
    Layout = "~/Views/Shared/_NavBarLayout.cshtml";
    ViewData["Title"] = "Home Page";
}

<link rel="stylesheet" href="~/css/customer.css" asp-append-version="true" />

<body>
   <div class="container-fluid dashboard-container">
       <div class="row mb-4">
           <!-- New Customers Card -->
           <div class="col-md-3 mx-auto">
               <div class="card shadow-bottom">
                   <div class="card-body">
                       <h5 class="card-title">New Clients</h5>
                       <p class="card-text">10,000</p>
                       <p class="text-success">+23.05% from last month</p>
                   </div>
               </div>
           </div>
           <!-- Total Orders Card -->
           <div class="col-md-3 mx-auto">
               <div class="card shadow-bottom">
                   <div class="card-body">
                       <h5 class="card-title">Total Orders</h5>
                       <p class="card-text">1 Million</p>
                       <p class="text-success">+0.33% from last month</p>
                   </div>
               </div>
           </div>
           <!-- Total Calls Card -->
           <div class="col-md-3 mx-auto">
               <div class="card shadow-bottom">
                   <div class="card-body">
                       <h5 class="card-title">Total Calls</h5>
                       <p class="card-text">22,000.00</p>
                       <p class="text-danger">-10.32% from last month</p>
                   </div>
               </div>
           </div>
           <div class="col-md-2 mx-auto ">
                <button class="add-card-btn"><p class="plus">+</p> <p>Add Card</p></button>
           </div>
       </div>
       
       <div class="row mb-4">
            <div class="col-md-8 mx-auto">
                <div class="card shadow-bottom">
                    <div class="card-body">
                        <h5 class="card-title">Total Customer</h5>
                        <canvas id="customerOverTime"></canvas>
                        <button class="toggleChartButton">Show Bar Chart</button>
                    </div>
                </div>
            </div>
           <!-- Urgent Tasks -->
        <div class="col-md-4">
            <div class="kanban-column">
                <div class="kanban-header">Urgent Tasks
                    <div class="progress">
                        <div class="progress-bar" role="progressbar" style="width: 70%;" aria-valuenow="70" aria-valuemin="0" aria-valuemax="100">70%</div>
                    </div>
                </div>
                    <div class="kanban-item">
                        
                        <div class="kanban-item-title">Quote for 150 carpets</div>
                        <div class="kanban-item-price">$8,000.00  📞 <small>24/05/2024</small></div>
                                                                    
                    </div>
                    <div class="kanban-item">
                        <div class="kanban-item-title">Quote for 100 tables</div>
                        <div class="kanban-item-price">$7,500.00  📤 <small>24/05/2024</small></div>
                    </div>
                </div>

            </div>
    </div>

       <div class="customer-container shadow-bottom">
            <div class="header-div">Recent customers</div>
            <div class="search-container">
                <div class="search-bar"></div>
                <div class="filter"></div>
                <div class="date"></div>
                <div class=export></div>
            </div>
            <div class="customer-list">
                <table id="myTable" class="table" style="width:100%">
                            <thead class="d-none-768">
                               <tr>
                                   <th>Customer</th>
                                   <th>Product ID</th>
                                   <th>Date</th>
                                   <th>Rating</th>
                                   <th>Action</th>
                               </tr>
                            </thead>
                            <tbody>
                                    <td width="25%">
                                        <div class="d-flex">
                                            <img src="/images/sienne.png" class="rounded-circle" width="40" height="40" alt="avatar">
                                            <div class="ms-2">
                                                <p class="mb-0">Sienna Hewitt<br> <small>hi@pippawilkinson.com</small></p>
                                                
                                                <small>
                                                    <a href="mailto: hello@siennahewitt.com">
                                                        <td>P110384238</td>
                                                        <div class="date">
                                                            <td> 25/05/2024 </td>
                                                            <td><span class="rating">★★★★★</span></td>
                                                        </div>
                                                    </a>
                                                </small>
                                            </div>
                                        </div>
                                    </td>
                                    <td class="d-none-768">
                                        
                                        <div class="action-wrapper">
                                            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="w-100 bi bi-three-dots-vertical" viewBox="0 0 16 16">
                                                <path class="icon-hover" d="M9.5 13a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0m0-5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0m0-5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0"/>
                                        
                                            </svg>    
                                            <div class=action-list-wrapper>
                                                <ul class="action-list shadow-bottom">
                                                    <li class="edit">
                                                        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-pen" viewBox="0 0 16 16">
                                                            <path d="m13.498.795.149-.149a1.207 1.207 0 1 1 1.707 1.708l-.149.148a1.5 1.5 0 0 1-.059 2.059L4.854 14.854a.5.5 0 0 1-.233.131l-4 1a.5.5 0 0 1-.606-.606l1-4a.5.5 0 0 1 .131-.232l9.642-9.642a.5.5 0 0 0-.642.056L6.854 4.854a.5.5 0 1 1-.708-.708L9.44.854A1.5 1.5 0 0 1 11.5.796a1.5 1.5 0 0 1 1.998-.001m-.644.766a.5.5 0 0 0-.707 0L1.95 11.756l-.764 3.057 3.057-.764L14.44 3.854a.5.5 0 0 0 0-.708z"/>
                                                        </svg>
                                                        <p>Edit</p>
                                                            
                                                    </li>
                                                    <li class="delete">
                                                        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-trash" viewBox="0 0 16 16">
                                                        <path d="M5.5 5.5A.5.5 0 0 1 6 6v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5m2.5 0a.5.5 0 0 1 .5.5v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5m3 .5a.5.5 0 0 0-1 0v6a.5.5 0 0 0 1 0z"/>
                                                        <path d="M14.5 3a1 1 0 0 1-1 1H13v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V4h-.5a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1H6a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1h3.5a1 1 0 0 1 1 1zM4.118 4 4 4.059V13a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1V4.059L11.882 4zM2.5 3h11V2h-11z"/>
                                                        </svg>
                                                        <p>Delete</p>
                                                    </li>
                                                </ul>   
                                            </div>
                                            
                                        </div>
                                    </td>
                               </tr>
                               <tr onclick="window.location.href='@Url.Action("Login", "Login")'"></tr>
                                    <td width="25%">
                                        <div class="d-flex">
                                            <img src="~/images/ammar.png" class="rounded-circle" width="40" height="40" alt="avatar">
                                            <div class="ms-2">
                                                <p class="mb-0">Ammar Foley<br> <small>ammar@ammarfoley.com</small></p>
                                                <small>
                                                        <td>P290321949</td>
                                                        <div class="date">
                                                            <td> 25/05/2024 </td>
                                                            <td><span class="rating">★★★★★</span></td>
                                                        </div>
                                                    </a>
                                                </small>
                                            </div>
                                        </div>
                                    </td>
                                    <td class="d-none-768">
                                        <div class="action-wrapper">
                                            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="w-100 bi bi-three-dots-vertical" viewBox="0 0 16 16">
                                                <path class="icon-hover" d="M9.5 13a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0m0-5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0m0-5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0"/>
                                            </svg>    
                                            <div class=action-list-wrapper>
                                                <ul class="action-list shadow-bottom">
                                                    <li class="edit">
                                                        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-pen" viewBox="0 0 16 16">
                                                            <path d="m13.498.795.149-.149a1.207 1.207 0 1 1 1.707 1.708l-.149.148a1.5 1.5 0 0 1-.059 2.059L4.854 14.854a.5.5 0 0 1-.233.131l-4 1a.5.5 0 0 1-.606-.606l1-4a.5.5 0 0 1 .131-.232l9.642-9.642a.5.5 0 0 0-.642.056L6.854 4.854a.5.5 0 1 1-.708-.708L9.44.854A1.5 1.5 0 0 1 11.5.796a1.5 1.5 0 0 1 1.998-.001m-.644.766a.5.5 0 0 0-.707 0L1.95 11.756l-.764 3.057 3.057-.764L14.44 3.854a.5.5 0 0 0 0-.708z"/>
                                                        </svg>
                                                        <p>Edit</p>
                                                    </li>
                                                    <li class="delete">
                                                        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-trash" viewBox="0 0 16 16">
                                                        <path d="M5.5 5.5A.5.5 0 0 1 6 6v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5m2.5 0a.5.5 0 0 1 .5.5v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5m3 .5a.5.5 0 0 0-1 0v6a.5.5 0 0 0 1 0z"/>
                                                        <path d="M14.5 3a1 1 0 0 1-1 1H13v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V4h-.5a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1H6a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1h3.5a1 1 0 0 1 1 1zM4.118 4 4 4.059V13a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1V4.059L11.882 4zM2.5 3h11V2h-11z"/>
                                                        </svg>
                                                        <p>Delete</p>
                                                    </li>
                                                </ul>   
                                            </div>
                                            
                                        </div>
                                    </td>
                           </tbody>
                       </table>
                   </div>
               </div>
           </div>
       </div>
   </div>


   <!-- Chart.js Script -->
   <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
   <script>
       var ctx = document.getElementById('customerOverTime').getContext('2d');
       var myChart = new Chart(ctx, {
           type: 'line',
           data: {
               labels: [ 'Sep 2023', 'Dec 2023','Mar 2024', 'Jun 2024',],
               datasets: [{
                   label: 'Number of Customer',
                   data: [12000, 19000, 30000, 50000],
                   backgroundColor: 'rgba(39, 126, 113, 0.2)',
                   borderColor: 'rgba(148, 180, 159, 1)',
                   borderWidth: 1
               }]
           },
           options: {
               scales: {
                   y: {
                       beginAtZero: true
                   }
               }
           }
       });
   </script>
</body>

<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script>
        var ctx = document.getElementById('customerOverTime').getContext('2d');
        var myChart = new Chart(ctx, {
            type: 'line',
            data: {
                labels: ['Sep 2023', 'Dec 2023', 'Mar 2024', 'Jun 2024'],
                datasets: [{
                    label: 'Number of Customer',
                    data: [12000, 19000, 30000, 50000],
                    backgroundColor: 'rgba(39, 126, 113, 0.2)',
                    borderColor: 'rgba(148, 180, 159, 1)',
                    borderWidth: 1
                }]
            },
            options: {
                scales: {
                    y: {
                        beginAtZero: true
                    }
                }
            }
        });

        document.getElementsByClassName('toggleChartButton')[0].addEventListener('click', () => {
            // Destroy the current chart instance
            myChart.destroy();

            // Toggle the chart type
            var currentChartType = myChart.config.type;
            var newChartType = currentChartType === 'line' ? 'bar' : 'line';

            // Create a new chart instance with the new type
            myChart = new Chart(ctx, {
                type: newChartType,
                data: {
                    labels: ['Sep 2023', 'Dec 2023', 'Mar 2024', 'Jun 2024'],
                    datasets: [{
                        label: 'Number of Customer',
                        data: [12000, 19000, 30000, 50000],
                        backgroundColor: newChartType === 'bar' ? 'rgba(39, 126, 113, 0.2)' : 'rgba(39, 126, 113, 0.2)',
                        borderColor: 'rgba(148, 180, 159, 1)',
                        borderWidth: 1
                    }]
                },
                options: {
                    scales: {
                        y: {
                            beginAtZero: true
                        }
                    }
                }
            });

            // Update the button text
            document.getElementsByClassName('toggleChartButton')[0].textContent = newChartType === 'line' ? 'Show Bar Chart' : 'Show Line Chart';
        });
    </script>

    <script>
        var ctx = document.getElementById('customersChart').getContext('2d');
        var customersChart = new Chart(ctx, {
            type: 'bar',
            data: {
                labels: ['Sep 2023', 'Dec 2023', 'Mar 2024', 'Jun 2024'],
                datasets: [{
                    label: 'Number of customers',
                    data: [12000, 19000, 30000, 50000],
                    backgroundColor: [
                        'rgba(39, 126, 113, 0.2)',
                        'rgba(39, 126, 113, 0.2)',
                        'rgba(39, 126, 113, 0.2)',
                        'rgba(39, 126, 113, 0.2)',
                        'rgba(39, 126, 113, 0.2)'
                    ],
                    borderColor: [
                        'rgba(148, 180, 159, 1)',
                        'rgba(148, 180, 159, 1)',
                        'rgba(148, 180, 159, 1)',
                        'rgba(148, 180, 159, 1)',
                        'rgba(148, 180, 159, 1)'
                    ],
                    borderWidth: 1
                }]
            },
            options: {
                scales: {
                    y: {
                        beginAtZero: true,
                        max: 60000
                    }
                }
            }
        });
    </script>